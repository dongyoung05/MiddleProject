<%@page import="java.util.List"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<%@ include file="../view/adminView.jsp" %>	
<%
	List<MemberVO> blackList = (List<MemberVO>)request.getAttribute("blackList");
%>

<body>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script>
$(function(){
	$('#memberList').click(function(){
		location.href = "<%=request.getContextPath()%>/memberListAdmin.do";
	})
})
</script>
<h1 style="text-align: center;">블랙리스트 목록</h1>

	<table border='1' class="table table-striped">
		<tr>
			<th>신고번호</th>
			<th>회원아이디</th>
			<th>회원명</th>
			<th>회원이메일</th>
			<th>신고사유</th>
			<th>신고날짜</th>
			<th>신고자아이디</th>
		</tr>
	
	<%
		for(int i=0; i<blackList.size(); i++) {
			String report = "";
			if(blackList.get(i).getReport_id() == null) {
							
				
				report = "신고자가 없습니다.";
			} else {
				report = blackList.get(i).getReport_id();
			}
	%>		
			<tr>
				
				<td><%=blackList.get(i).getReport_no() %></td>
				<td><%=blackList.get(i).getMem_id() %></td>
				<td><%=blackList.get(i).getMem_name() %></td>
				<td><%=blackList.get(i).getMem_email() %></td>
				<td><%=blackList.get(i).getList_reason() %></td>
				<td><%=blackList.get(i).getList_date() %></td>
				<td><%= report %></td>
			</tr>
		
	<%	
		}
	%>	
		
	</table>
	<input type="button" value="회원목록보기" id="memberList">

</body>
</html>