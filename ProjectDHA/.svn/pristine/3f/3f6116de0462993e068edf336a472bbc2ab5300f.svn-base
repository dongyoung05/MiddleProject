<%@page import="kr.or.ddit.vo.DogVO"%>
<%@page import="java.util.List"%>
<%@page import="kr.or.ddit.vo.MemberVO"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<style>
tr{
	text-align: center;
}

th{
	width: 400px;
	height: 80px;
}

.memSpan{
	display: inline-block; 
	width: 120px;
	text-align: center;
	margin-right: 100px; 
}

.restd{
	width: 100px;
	height: 30px;
}

.reserve:hover{
	color: blue;
}

.hr{
	border: 1px solid black;
	width: 300px;
	height: 0px;
	margin: 0 auto 50px auto;
}

#loginYes, #loginNo{
	width: 50%;
	text-align: center;
	margin: 0 auto;
}

#profileImg{
	width: 400px;
	height: 400px;
}

#MemInfo{
	text-align: left;
	margin-bottom: 100px;
}

#MemInfo h4{
	border-bottom: 1px solid black;
	padding: 5px;
}

#roomList{
	text-align: center;
}

#chooseDate{
	text-align: center;
}

#chooseDate table{
	margin: 0 auto;
}

.dogProfile{
	display: flex;
	margin-bottom: 50px;
}

.dogImg{
	width: 180px;
	height: 180px;
	border-radius: 50%;
	margin-right: 50px;
}

.dogImg:hover{
	border: 2px solid red; 
}

.dogInfo{
	text-align: left;
}

.dogId{
	display: none;
}
</style>

<%
// 여기는 Session 객체로 로그인 정보 받아올 곳
// 로그인 정보가 있냐 없냐에 따라 명함에 버튼, 프로필, 인삿말 변경되야함

String imgPath = request.getContextPath() + "/images";

MemberVO memberVo = (MemberVO)session.getAttribute("loginok");

List<DogVO> myDogList = (List<DogVO>)session.getAttribute("myDogList");



%>

<script>
$(function(){
	
	var today = new Date();
	$('#chkdate').attr('min', today.toISOString().substr(0, 10));
	
	// 날짜 변경시
	$('#chkdate').on('change', function(){
		$(this).find('h3').text($(this).val());
	})
	
	
	
	
})

</script>

</head>
<body>




<%
if(memberVo != null){
%>
<div id="loginYes">
	
	<h3>예약자 프로필</h3>
	<div class="hr" style="margin-bottom: 50px;"></div>
	
	<img id="profileImg" src="<%= imgPath %>/member/<%=memberVo.getMem_img() %>" alt="<%=memberVo.getMem_img() %>">
	
	<div id="MemInfo">
		
		<h4><span class="memSpan">이름</span> <%= memberVo.getMem_name() %></h4>
		<h4><span class="memSpan">ID</span> <%= memberVo.getMem_id() %></h4>
		<h4><span class="memSpan">EMAIL</span> <%= memberVo.getMem_email() %></h4>
	
	</div>
	
	<h3>반려견 프로필</h3>
	<div class="hr" style="margin-bottom: 50px;"></div>
	
	<%
	if(myDogList == null){
	%>
		<h3>마이페이지에서 반려견을 등록해주세요.</h3>
	<%	
	} else{
	%>
		<h3>미용할 반려견을 선택해주세요.</h3>
		<%
		for(int i=0;i<myDogList.size();i++){
			DogVO dog = myDogList.get(i);
		%>
		<div class="dogProfile">
			<img class="dogImg" id="dogImg<%=i+1%> %>" src="<%= imgPath %>/dog/<%=dog.getDog_img() %>" 
				alt="<%=dog.getDog_img() %>">
			<div class="dogInfo">
				<h4><%=dog.getDog_name() %></h4>
				<h4 class="dogId"><%=dog.getDog_no() %></h4>
				<h4><%=dog.getDog_birth() %></h4>
				<h4><%=dog.getDog_breed() %></h4>
				<h4 class="weight"><%=dog.getDog_weight() %></h4>
			</div>	
		</div>
		<% 	
		}
		%>
	<%
	}
	%>
</div>
<%
} else{
%>
<div id="loginNo">
	<h3>로그인이 필요한 기능입니다.</h3>
	<div class="hr" style="margin-bottom: 50px;"></div>
</div>	
<%	
}
%>



<div id="roomList">

	<h3>객실 선택</h3>
	<div class="hr" style="margin-bottom: 50px;"></div>
	<div></div>
</div>




<div id="chooseDate">
	<h3>날짜 선택</h3>
	<div class="hr" style="margin-bottom: 50px;"></div>
	
	<form action="#" method="post">
		
		<input type="date" name="date" id="chkdate">

		<table border="1">
			<tr>
				<th colspan="3" id="datetime">날짜를 선택하세요.</th>
			</tr>
			
		</table>
	</form>
</div>





























</body>
</html>